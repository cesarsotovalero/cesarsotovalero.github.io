<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en-us xml:lang=en-US itemscope itemtype=http://schema.org/WebSite><head><script>(function(){let a=localStorage.getItem('theme');a==='dark'&&document.documentElement.setAttribute('data-theme','dark')})()</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Use Custom LaTeX Macros to Boost Your Writing Productivity</title><meta name=keywords content="latex,macros,productivity,tutorials"><link rel=alternate type=application/rss+xml title="César Soto Valero  César - Computer Scientist" href=https://www.cesarsotovalero.net/feed.xml><script src=https://cdn.jsdelivr.net/npm/typed.js@2.0.12></script>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Rouge+Script&display=swap" rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=../img/favicon/redketchup/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../img/favicon/redketchup/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../img/favicon/redketchup/favicon-16x16.png><link rel=manifest href=../img/favicon/redketchup/site.webmanifest><link id=code rel=stylesheet href=../css/pygment_highlights.css><script src=https://d3js.org/d3.v7.min.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107061705-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-107061705-1')</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","bs3gcidnol")</script><script src=../js/anchor.min.js></script>
<link rel=stylesheet href=//use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/bootstrap-social.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/academicons.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><meta name=generator content="Jekyll v4.3.2"><meta property="og:title" content="Use Custom LaTeX Macros to Boost Your Writing Productivity"><meta name=author content="César Soto Valero"><meta property="og:locale" content="en_US"><meta name=description content="In this blog post, I describe how I use LaTeX macros to boost my writing productivity by automating repetitive tasks such as formatting and number computations. I explain how to create custom commands for common tasks like abbreviations, author notes, formatting and computing numbers, percentages, and ratios, as well as embedding small bar charts within documents. This post also demonstrates how to execute Python scripts within LaTeX documents, offering a powerful way to dynamically update content and automate parts of the writing process."><meta property="og:description" content="In this blog post, I describe how I use LaTeX macros to boost my writing productivity by automating repetitive tasks such as formatting and number computations. I explain how to create custom commands for common tasks like abbreviations, author notes, formatting and computing numbers, percentages, and ratios, as well as embedding small bar charts within documents. This post also demonstrates how to execute Python scripts within LaTeX documents, offering a powerful way to dynamically update content and automate parts of the writing process."><link rel=canonical href=https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html><meta property="og:url" content="https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html"><meta property="og:site_name" content="César Soto Valero"><meta property="og:image" content="https://www.cesarsotovalero.net/img/posts/2021/snail_cover.jpg"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-05-28T00:00:00-07:00"><meta name=twitter:card content="summary"><meta property="twitter:image" content="https://www.cesarsotovalero.net/img/posts/2021/snail_cover.jpg"><meta property="twitter:title" content="Use Custom LaTeX Macros to Boost Your Writing Productivity"><meta name=twitter:site content="@cesarsotovalero"><meta name=twitter:creator content="@César Soto Valero"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"César Soto Valero","url":"https://www.cesarsotovalero.net/about-me"},"dateModified":"2025-07-29T11:58:39-07:00","datePublished":"2021-05-28T00:00:00-07:00","description":"In this blog post, I describe how I use LaTeX macros to boost my writing productivity by automating repetitive tasks such as formatting and number computations. I explain how to create custom commands for common tasks like abbreviations, author notes, formatting and computing numbers, percentages, and ratios, as well as embedding small bar charts within documents. This post also demonstrates how to execute Python scripts within LaTeX documents, offering a powerful way to dynamically update content and automate parts of the writing process.","headline":"Use Custom LaTeX Macros to Boost Your Writing Productivity","image":"https://www.cesarsotovalero.net/img/posts/2021/snail_cover.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.cesarsotovalero.net/img/pages/cesar/avatar-icon-2024.jpg"},"name":"César Soto Valero"},"url":"https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html"}</script><script type=text/x-mathjax-config> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } });
   </script><script type=text/x-mathjax-config>
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
   </script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type=text/javascript></script></head><body><nav class="navbar-fixed-top navbar-custom navbar navbar-expand-lg navbar-light bg-light"><button class=navbar-toggle type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="collapse navbar-collapse container-fluid" id=navbarSupportedContent><ul class="navigation list-inline text-center footer-links" id=black-icons><li class="nav-item navbar-custom" title=Home><a id=navbar-brand href=https://www.cesarsotovalero.net>Home</a></li><li class="nav-item navbar-custom"><a href=/blog>Blog</a></li><li class="nav-item navbar-custom"><a href=/linkedin>LinkedIn</a></li><li class="nav-item navbar-custom"><a href=/youtube>YouTube</a></li><li class="nav-item navbar-custom"><a href=/podcasts>Podcasts</a></li><li class="nav-item navbar-custom"><a href=/talks>Talks</a></li><li class="nav-item navbar-custom"><a href=/about-me>About</a></li><li class="nav-item navbar-custom" title="Toggle Night Mode"><a href=# id=theme-toggle onclick=modeSwitcher() style=cursor:pointer></a></li></ul></div></nav><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class=header-image style=padding-left:15px><div class="row justify-content-center" style=margin-right:0;margin-left:0></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1 class=no-anchor>Use Custom LaTeX Macros to Boost Your Writing Productivity</h1><h2 class=post-subheading>Forget about these annoying numerical glitches in your LaTeX document</h2><div class="container flex-container"><a href=https://www.cesarsotovalero.net/about-me><img class=avatar-img-small src=/img/pages/cesar/avatar-icon-2024.jpg alt="César Soto Valero" id=meta-img></a><div class=flex-item><span class=post-meta>Posted on May 28, 2021</span><div><span class=post-meta title="Estimated read time"><svg id="i-clock" viewBox="0 0 32 32" width="18" height="18" style="vertical-align:middle" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><circle cx="16" cy="16" r="14"/><path d="M16 8v8l4 4"/></svg>&nbsp;9 mins read</span>
<span class="blog-tags post-meta"><svg id="i-tag" aria-hidden="true" focusable="false" data-prefix="far" data-icon="tag" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-tag fa-w-16" width="16.5" height="16.5"><path fill="none" d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a47.998 47.998.0 0014.059 33.941l211.882 211.882c18.745 18.745 49.137 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM259.886 463.996 48 252.118V48h204.118L464 259.882 259.886 463.996zM192 144c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48z"/></svg>latex</span></div></div></div><div class=flex-item><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1" style=margin-left:0><section id=share-section><script type=text/javascript src=https://storage.ko-fi.com/cdn/widget/Widget_2.js></script><script type=text/javascript>kofiwidget2.init('Support this blog','#7aa4d1','G2G3CRPPI'),kofiwidget2.draw()</script></section></div></div></div><div class=cesarcarbon id=cesarcarbonads-post><script async type=text/javascript src="//cdn.carbonads.com/carbon.js?serve=CESI52JM&placement=wwwcesarsotovaleronet" id=_carbonads_js></script></div></div></div><div class="col-lg-4 col-lg-pull-2 col-md-2 col-md-pull-2"><ol id=toc class=section-nav><li class="toc-entry toc-h1"><a href=#creating-a-simple-user-custom-command>Creating a Simple User Custom Command</a></li><li class="toc-entry toc-h1"><a href=#inserting-author-notes>Inserting Author Notes</a></li><li class="toc-entry toc-h1"><a href=#formatting-numbers>Formatting Numbers</a></li><li class="toc-entry toc-h1"><a href=#computing-numbers>Computing Numbers</a></li><li class="toc-entry toc-h1"><a href=#handling-percentages>Handling Percentages</a></li><li class="toc-entry toc-h1"><a href=#handling-ratios>Handling Ratios</a></li><li class="toc-entry toc-h1"><a href=#embedding-small-barcharts>Embedding Small Barcharts</a></li><li class="toc-entry toc-h1"><a href=#executing-python-scripts-in-a-latex-document>Executing Python Scripts in a LaTeX Document</a></li><li class="toc-entry toc-h1"><a href=#image>IMAGE</a></li><li class="toc-entry toc-h1"><a href=#conclusion>Conclusion</a></li></ol></div></div></div></div></header><div class=container><div class=row><div class="col-lg-9 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>If you ever use <a href=https://en.wikipedia.org/wiki/LaTeX>LaTeX</a> to write your research papers or technical reports, then you should know how useful and powerful this tool is.
Let me just mention three well-known benefits of using LaTeX: 1) beautiful typeset output (especially when dealing with mathematical notations); 2) consistent handling of references and bibliography (thanks to <a href=http://www.bibtex.org/>BibTeX</a>; 3) separation of content and style, meaning that all you need to write is plain text (also true for tables and figures, thanks to <a href=https://en.wikipedia.org/wiki/PGF/TikZ>TikZ</a>).
LaTeX has a powerful markup language for document creation.
One of the best and often misleading advantages of using this language is that it allows the creation of <a href=https://en.wikibooks.org/wiki/LaTeX/Macros>custom macros</a>.
These are user-defined commands that allows avoiding typing repetitive LaTeX commands (e.g., formatting strings or numbers) and even perform live computations (e.g., calculating numeric expression).
Let me show you how it works!</p><figure class=jb_picture><img width style=border: src=/assets/resized/snail-640x256.jpg alt="A slow snail crawling at Djurgården in Stockholm (he doesn't use LaTeX macros)" data-srcset="/assets/resized/snail-640x256.jpg 640w,/assets/resized/snail-768x307.jpg 768w,/assets/resized/snail-1024x409.jpg 1024w,/assets/resized/snail-1366x546.jpg 1366w,/assets/resized/snail-1600x640.jpg 1600w,/assets/resized/snail-1920x768.jpg 1920w," class="blur-up lazyautosizes lazyload"><figcaption class=stroke>&#169; A slow snail crawling at Djurgården in Stockholm (he doesn't use LaTeX macros, obviously)</figcaption></figure><h1 id=creating-a-simple-user-custom-command>Creating a Simple User Custom Command</h1><p>To add a custom command in your document, use <code class="language-plaintext highlighter-rouge">\newcommand{\name}[num]{definition}</code>.
The following commands are examples that allow simplifying the use of some common English abbreviations:</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class=code><pre><span class=c>% Load required package</span>

<span class=k>\usepackage</span><span class=p>{</span>xspace<span class=p>}</span>

<span class=c>% Create custom user defined commands</span>

<span class=k>\newcommand</span><span class=p>{</span><span class=k>\ie</span><span class=p>}{</span>i.e.<span class=k>\@\xspace</span><span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\aka</span><span class=p>}{</span>a.k.a.<span class=k>\@\xspace</span><span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\eg</span><span class=p>}{</span>e.g.<span class=k>\@\xspace</span><span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\etal</span><span class=p>}{</span>et al.<span class=k>\@\xspace</span><span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\wrt</span><span class=p>}{</span>w.r.t.<span class=k>\@\xspace</span><span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>Once added in your document, you just need to type <code class="language-plaintext highlighter-rouge">\ie</code> and the text <code class="language-plaintext highlighter-rouge">i.e.</code> will be printed in your document.
Note that you need to use <code class="language-plaintext highlighter-rouge">\@\xspace</code> to indicate that a white space follows the displayed text.</p><h1 id=inserting-author-notes>Inserting Author Notes</h1><p>I often find very useful defining the <code class="language-plaintext highlighter-rouge">\cesar</code> and <code class="language-plaintext highlighter-rouge">\todo</code> commands in all my documents to create quick author notes and remarks in my documents. The following code defines these commands, which are very useful when inserting notes (e.g., <code class="language-plaintext highlighter-rouge">\cesar{refine this sentence}</code>):</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class=code><pre><span class=c>% Load required packages</span>

<span class=k>\usepackage</span><span class=p>{</span>xspace<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>ifthen<span class=p>}</span>
<span class=k>\usepackage</span><span class=na>[T1]</span><span class=p>{</span>fontenc<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>xcolor<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>amsmath,amssymb<span class=p>}</span>
<span class=k>\usepackage</span><span class=na>[inline]</span><span class=p>{</span>enumitem<span class=p>}</span>

<span class=c>% Code for creating comments</span>

<span class=k>\newboolean</span><span class=p>{</span>showcomments<span class=p>}</span>
<span class=k>\setboolean</span><span class=p>{</span>showcomments<span class=p>}{</span>true<span class=p>}</span>
<span class=k>\ifthenelse</span><span class=p>{</span><span class=k>\boolean</span><span class=p>{</span>showcomments<span class=p>}}</span>
<span class=p>{</span><span class=k>\newcommand</span><span class=p>{</span><span class=k>\mynote</span><span class=p>}</span>[2]<span class=p>{</span>
  <span class=k>\fbox</span><span class=p>{</span><span class=k>\bfseries\sffamily\scriptsize</span>#1<span class=p>}</span>
  <span class=p>{</span><span class=k>\small</span>
  <span class=p>$</span><span class=nv>\blacktriangleright</span><span class=p>$</span>
  <span class=k>\textsf</span><span class=p>{</span><span class=k>\textcolor</span><span class=p>{</span>red<span class=p>}{{</span><span class=k>\em</span> #2<span class=p>}</span><span class=k>\bf</span><span class=p>}}</span>
  <span class=p>$</span><span class=nv>\blacktriangleleft</span><span class=p>$}}</span>
<span class=p>}</span>

<span class=c>% Create custom user defined command for author notes</span>

<span class=k>\newcommand</span><span class=p>{</span>
  <span class=k>\cesar</span><span class=p>}</span>[1]<span class=p>{</span><span class=k>\mynote</span><span class=p>{</span>Cesar<span class=p>}{</span>#1<span class=p>}</span>
<span class=p>}</span>

<span class=c>% Create custom user defined command for `TODO` notes</span>

<span class=k>\newcommand*\badge</span><span class=na>[1]</span><span class=p>{</span>
  <span class=k>\colorbox</span><span class=p>{</span>red<span class=p>}{</span><span class=k>\color</span><span class=p>{</span>white<span class=p>}</span>#1<span class=p>}</span>
<span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\todo</span><span class=p>}</span>[1]<span class=p>{</span>
  <span class=k>\noindent\textbf</span><span class=p>{</span><span class=k>\badge</span><span class=p>{</span>TODO<span class=p>}}</span> <span class=p>{</span><span class=k>\color</span><span class=p>{</span>red<span class=p>}</span>#1<span class=p>}</span>
  <span class=k>\GenericWarning</span><span class=p>{}{</span>LaTeX Warning: TODO: #1<span class=p>}</span>
<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>For example, the <code class="language-plaintext highlighter-rouge">\cesar{An author note}</code> produces <img src=../img/posts/2021/authornote.png height=18 border=0 alt=Comand>, whereas <code class="language-plaintext highlighter-rouge">\todo{A todo note}</code> produces <img src=../img/posts/2021/todonote.png height=18 border=0 alt=Comand>.</p><h1 id=formatting-numbers>Formatting Numbers</h1><p>You can use the <code class="language-plaintext highlighter-rouge">numprint</code> and <code class="language-plaintext highlighter-rouge">fp</code> packages to create your own commands to format numeric values.
The following example creates a <code class="language-plaintext highlighter-rouge">\np</code> command to print numeric values in math mode, nicely formatted, and rounded by two decimal digits.</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class=code><pre><span class=c>% Load required packages</span>

<span class=k>\usepackage</span><span class=p>{</span>xspace<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>fp<span class=p>}</span>
<span class=k>\usepackage</span><span class=na>[autolanguage]</span><span class=p>{</span>numprint<span class=p>}</span>

<span class=c>% Create custom user defined command for author notes</span>

<span class=k>\newcommand*\np</span><span class=na>[2][z]</span><span class=p>{</span>
  <span class=c>%\textcolor{red}{</span>
  <span class=k>\ifx</span> z#1
    <span class=k>\nprounddigits</span><span class=p>{</span>2<span class=p>}$</span><span class=nv>\numprint</span><span class=p>{</span><span class=nb>#</span><span class=m>2</span><span class=p>}$</span>
  <span class=k>\else</span>
    <span class=k>\nprounddigits</span><span class=p>{</span>2<span class=p>}$</span><span class=nv>\numprint</span><span class=o>[</span><span class=nb>#</span><span class=m>1</span><span class=o>]</span><span class=p>{</span><span class=nb>#</span><span class=m>2</span><span class=p>}$</span>
  <span class=k>\fi\xspace</span>
<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>Now, for example, you can use <code class="language-plaintext highlighter-rouge">\np{22.324}</code> to print <code class="language-plaintext highlighter-rouge">22.32</code>, or <code class="language-plaintext highlighter-rouge">\np{22.324}{\%}</code> to print <code class="language-plaintext highlighter-rouge">22.32%</code>.</p><h1 id=computing-numbers>Computing Numbers</h1><p>You can create numeric variables using <code class="language-plaintext highlighter-rouge">\def</code>.
This is very handy since you can keep all the values in your document in the same place.
Furthermore, you can use <code class="language-plaintext highlighter-rouge">\FPeval</code> to compute values based on these variables.
With <code class="language-plaintext highlighter-rouge">\FPeval</code>, your document will lively update every time you update some value.
The following is a basic example:</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
</pre></td><td class=code><pre><span class=k>\def\nbX</span><span class=p>{</span>42<span class=p>}</span>
<span class=k>\def\nbY</span><span class=p>{</span>42<span class=p>}</span>
<span class=k>\FPeval</span><span class=p>{</span>nbSum<span class=p>}{</span>round(<span class=k>\nbX</span> + <span class=k>\nbY</span>, 0)<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>In this example, using <code class="language-plaintext highlighter-rouge">\nbSum</code> prints the value <code class="language-plaintext highlighter-rouge">84</code> in the document.</p><h1 id=handling-percentages>Handling Percentages</h1><p>If you use percentages in your document, you can calculate a percentage directly based on two variables: a number and the total. The following <code class="language-plaintext highlighter-rouge">\ShowPercentage</code> command calculates rates based on two variables.</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class=code><pre><span class=c>% Load required packages</span>

<span class=k>\usepackage</span><span class=p>{</span>xspace<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>fp<span class=p>}</span>
<span class=k>\usepackage</span><span class=na>[autolanguage]</span><span class=p>{</span>numprint<span class=p>}</span>

<span class=c>% Create custom user defined command for author notes</span>

<span class=k>\newcommand</span><span class=p>{</span><span class=k>\ShowPercentage</span><span class=p>}</span>[2]<span class=p>{</span>
  <span class=k>\FPeval\percentage</span><span class=p>{</span>round(#1/#2*100,0)<span class=p>}</span>
  <span class=k>\FPeval\percentageOneDecimal</span><span class=p>{</span>round(#1/#2*100,2)<span class=p>}</span>
  <span class=k>\ifnum</span> <span class=k>\percentage</span>=0
    <span class=p>{</span><span class=k>\np</span><span class=na>[\%]</span><span class=p>{</span>0<span class=p>}}</span>
  <span class=k>\else</span>
    <span class=k>\ifnum</span> <span class=k>\percentage</span>&lt;1
      <span class=p>{$</span><span class=nb>&lt;</span><span class=p>$</span><span class=k>\np</span><span class=na>[\%]</span><span class=p>{</span>0.1<span class=p>}}</span>
    <span class=k>\else</span>
      <span class=p>{</span><span class=k>\np</span><span class=na>[\%]</span><span class=p>{</span><span class=k>\FPprint</span><span class=p>{</span>percentageOneDecimal<span class=p>}}}</span>
    <span class=k>\fi</span>
  <span class=k>\fi</span>
  <span class=k>\xspace</span>
<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>For example, <code class="language-plaintext highlighter-rouge">\ShowPercentage{1221}{20023}</code> prints <code class="language-plaintext highlighter-rouge">6.10%</code>.
Note that a percentage rounded to 0 will be presented as <code class="language-plaintext highlighter-rouge">&lt;1%</code></p><h1 id=handling-ratios>Handling Ratios</h1><p>Sometimes percentages are hard to read (e.g., when the numerator and denominator are large numbers).
In such cases, you can present ratios instead.
For example, to say that <code class="language-plaintext highlighter-rouge">4</code> is two times larger that <code class="language-plaintext highlighter-rouge">2</code>.
The following <code class="language-plaintext highlighter-rouge">\Ratio</code> command calculates based based on two variables.</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
</pre></td><td class=code><pre><span class=c>% Create custom user defined command for printing ratios</span>

<span class=k>\newcommand</span><span class=p>{</span><span class=k>\Ratio</span><span class=p>}</span>[2]<span class=p>{</span>
  <span class=k>\FPeval\percentage</span><span class=p>{</span>round(#2/#1,1)<span class=p>}</span>
  <span class=k>\FPeval\percentageOneDecimal</span><span class=p>{</span>round(#2/#1,1)<span class=p>}</span>
  <span class=k>\np</span><span class=na>[\times]</span><span class=p>{</span><span class=k>\FPprint</span><span class=p>{</span>percentageOneDecimal<span class=p>}}</span>
  <span class=k>\xspace</span>
<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>For the previous example, it prints: <code class="language-plaintext highlighter-rouge">2x</code>.</p><h1 id=embedding-small-barcharts>Embedding Small Barcharts</h1><p>A nice way to compare percentages in a graphical manner (especially in tables), is by embedding small barchart plots within them. The following <code class="language-plaintext highlighter-rouge">\ChartSmall</code> commands does the trick for you:</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class=code><pre><span class=c>% Load required packages</span>

<span class=k>\usepackage</span><span class=p>{</span>xspace<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>fp<span class=p>}</span>
<span class=k>\usepackage</span><span class=na>[autolanguage]</span><span class=p>{</span>numprint<span class=p>}</span>
<span class=k>\usepackage</span><span class=p>{</span>xcolor<span class=p>}</span>

<span class=c>% Create custom user defined command for author notes</span>

<span class=k>\newlength\BARSIZE</span> <span class=k>\setlength\BARSIZE</span><span class=p>{</span>0.5cm<span class=p>}</span>
<span class=k>\newcommand</span><span class=p>{</span><span class=k>\inlinechart</span><span class=p>}</span>[2]<span class=p>{</span>
  <span class=k>\FPeval</span><span class=p>{</span><span class=k>\BLACKBARSIZE</span><span class=p>}{</span>#1/#2<span class=p>}</span><span class=k>\textcolor</span><span class=p>{</span>black!80<span class=p>}{</span><span class=k>\rule</span><span class=p>{</span><span class=k>\BLACKBARSIZE\BARSIZE</span><span class=p>}{</span>1.6ex<span class=p>}}</span>
  <span class=k>\FPeval</span><span class=p>{</span><span class=k>\BLACKBARSIZE</span><span class=p>}{</span>1 - (#1/#2)<span class=p>}</span><span class=k>\textcolor</span><span class=p>{</span>black!10<span class=p>}{</span><span class=k>\rule</span><span class=p>{</span><span class=k>\BLACKBARSIZE\BARSIZE</span><span class=p>}{</span>1.6ex<span class=p>}}</span>
<span class=p>}</span>
<span class=k>\newcommand*\ChartSmall</span><span class=na>[3][v]</span><span class=p>{</span>
  <span class=k>\ifx</span> q#1
    <span class=k>\np</span><span class=p>{</span>#2<span class=p>}</span>/<span class=k>\np</span><span class=p>{</span>#3<span class=p>}</span>(<span class=k>\ShowPercentage</span><span class=p>{</span>#2<span class=p>}{</span>#3<span class=p>}</span>)
  <span class=k>\else</span>
    <span class=k>\ifx</span> p#1
      <span class=k>\np</span><span class=p>{</span>#2<span class=p>}</span>(<span class=k>\ShowPercentage</span><span class=p>{</span>#2<span class=p>}{</span>#3<span class=p>}</span>)<span class=k>\else</span>
    <span class=k>\ifx</span> c#1
      <span class=k>\inlinechart</span><span class=p>{</span>#2<span class=p>}{</span>#3<span class=p>}</span>
    <span class=k>\else</span>
      <span class=k>\np</span><span class=p>{</span>#2<span class=p>}</span>
    <span class=k>\ifx</span> r#1
      /<span class=k>\np</span><span class=p>{</span>#3<span class=p>}</span>
  <span class=k>\fi</span>
  <span class=k>\hspace*</span><span class=p>{</span>0.5ex<span class=p>}</span>(<span class=k>\ShowPercentage</span><span class=p>{</span>#2<span class=p>}{</span>#3<span class=p>}</span>)
  <span class=k>\inlinechart</span><span class=p>{</span>#2<span class=p>}{</span>#3<span class=p>}</span>
  <span class=k>\xspace</span>
<span class=k>\fi\fi\fi</span>
<span class=p>}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>Note that you can use this command in three different flavors:</p><ul><li><code class="language-plaintext highlighter-rouge">\ChartSmall[x]{80}{155}</code> produces <img src=../img/posts/2021/smallshart1.png height=18 border=0 alt=Comand></li><li><code class="language-plaintext highlighter-rouge">\ChartSmall[q]{80}{155}</code> produces <img src=../img/posts/2021/smallshart2.png height=20 border=0 alt=Comand></li><li><code class="language-plaintext highlighter-rouge">\ChartSmall[p]{80}{155}</code> produces <img src=../img/posts/2021/smallshart3.png height=20 border=0 alt=Comand></li></ul><h1 id=executing-python-scripts-in-a-latex-document>Executing Python Scripts in a LaTeX Document</h1><p>You can leverage the computational capabilities of the Python programming language to compute values or automatize the creation of a LaTeX document.
Here is an example, credited to <a href=https://tex.stackexchange.com/questions/598403/can-i-execute-python-code-inside-latex>this answer</a> on StackExchange.</p><figure class=highlight><pre><code class=language-latex data-lang=latex><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class=code><pre><span class=k>\documentclass</span><span class=p>{</span>article<span class=p>}</span>
<span class=nt>\begin{filecontents*}</span><span class=p>{</span>zz.py<span class=p>}</span>
print("one")
print("two")
<span class=nt>\end{filecontents*}</span>

<span class=k>\usepackage</span><span class=p>{</span>color<span class=p>}</span>
<span class=nt>\begin{document}</span>

<span class=k>\input</span><span class=p>{</span>|python mypy.py<span class=p>}</span>

<span class=k>\hrule</span>

<span class=k>\input</span><span class=p>{</span>|python zz.py<span class=p>}</span>
<span class=nt>\end{document}</span>
</pre></td></tr></tbody></table></code></pre></figure><p>Here is file <code class="language-plaintext highlighter-rouge">mypy.py</code> called within the LaTeX document:</p><figure class=highlight><pre><code class=language-python data-lang=python><table class=rouge-table><tbody><tr><td class="gutter gl"><pre class=lineno>1
2
3
4
5
</pre></td><td class=code><pre><span class=nf>print</span><span class=p>(</span><span class=sh>"</span><span class=se>\\</span><span class=s>section{The First}</span><span class=se>\n</span><span class=sh>"</span><span class=p>)</span>
<span class=nf>print</span><span class=p>(</span><span class=sh>"</span><span class=s>Some colours:</span><span class=se>\n\n</span><span class=sh>"</span><span class=p>)</span>
<span class=n>clr</span><span class=o>=</span><span class=p>[</span><span class=sh>'</span><span class=s>red</span><span class=sh>'</span><span class=p>,</span><span class=sh>'</span><span class=s>blue</span><span class=sh>'</span><span class=p>,</span><span class=sh>'</span><span class=s>green</span><span class=sh>'</span><span class=p>]</span>
<span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>clr</span><span class=p>:</span>
  <span class=nf>print</span><span class=p>(</span><span class=sh>"</span><span class=se>\n\\</span><span class=s>textcolor{</span><span class=sh>"</span> <span class=o>+</span> <span class=n>c</span> <span class=o>+</span> <span class=sh>"</span><span class=s>}{</span><span class=sh>"</span> <span class=o>+</span> <span class=n>c</span> <span class=o>+</span><span class=sh>"</span><span class=s>}</span><span class=se>\n</span><span class=sh>"</span><span class=p>)</span>
</pre></td></tr></tbody></table></code></pre></figure><p>The output is as following:</p><h1 id=image>IMAGE</h1><figure class=jb_picture><img width=100% style="border:1px solid gray" src=/assets/resized/python_executed_in_latex_document-640x199.png alt="Python code executed in a LaTeX document" data-srcset="/assets/resized/python_executed_in_latex_document-640x199.png 640w,/assets/resized/python_executed_in_latex_document-768x239.png 768w,/assets/resized/python_executed_in_latex_document-1024x319.png 1024w,/assets/resized/python_executed_in_latex_document-1366x426.png 1366w,/assets/resized/python_executed_in_latex_document-1600x499.png 1600w," class="blur-up lazyautosizes lazyload"><figcaption class=stroke>The figure shows a working example of Python code embedded in a LaTeX file in Overleaf.</figcaption></figure><h1 id=conclusion>Conclusion</h1><p>LaTeX is not only an awesome tool to create beautiful documents.
It also provides packages to format and compute numeric values as variables.
I’ve used all the custom commands presented in this post to ease the writing process of <a href=https://www.cesarsotovalero.net/publications>my research papers</a>.
Since then, dealing with numeric values and percentages has never been easier.</p></article><ul class="pager blog-pager"><li class=previous><a href=/blog/enhance-your-readme-with-asciinema.html data-toggle=tooltip data-placement=top title="Enhance Your Readme With Asciinema">&larr; Previous Post</a></li><li class=next><a href=/blog/the-fork-join-java-framework.html data-toggle=tooltip data-placement=top title="The Fork/Join Java framework">Next Post &rarr;</a></li></ul><br></div></div></div><script>anchors.options={position:'left'},anchors.add('h1:not(.no-anchor)','h2','h3')</script><div class=container><div class=row><div class="col-lg-10 col-lg-offset-2 col-md-10 col-md-offset-1" style=padding-right:15px><div class=flex-container-footer-badges><section class=share-section><a href="https://twitter.com/intent/tweet?text=In+this+blog+post%2C+I+describe+how+I+use+LaTeX+macros+to+boost+my+writing+productivity+by+automating+repetitive+tasks+such+as+formatting+and+number+computations.+I+explain+how+to+create+custom+commands+for+common+tasks+like+abbreviations%2C+author+notes%2C+formatting+and+computing+numbers%2C+percentages%2C+and+ratios%2C+as+well+as+embedding+small+bar+charts+within+documents.+This+post+also+demonstrates+how+to+execute+Python+scripts+within+LaTeX+documents%2C+offering+a+powerful+way+to+dynamically+update+content+and+automate+parts+of+the+writing+process.%0A+https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html" class="btn btn-my-icon btn-twitter" title="Share on Twitter"><span id=share-twitter class="fab fa-twitter" aria-hidden=true></span>
<span class=sr-only>Twitter</span></a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html" class="btn btn-my-icon btn-linkedin" title="Share on LinkedIn"><span id=share-linkedin class="fab fa-linkedin-in" aria-hidden=true></span>
<span class=sr-only>LinkedIn</span></a>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://www.cesarsotovalero.net/blog/use-custom-latex-macros-to-boost-your-writing-productivity.html" class="btn btn-my-icon btn-facebook" title="Share on Facebook"><span class="fab fa-facebook-f" aria-hidden=true></span>
<span class=sr-only>Facebook</span></a>
<a href="https://www.reddit.com/submit?url=https%3A%2F%2Fwww.cesarsotovalero.net%2Fblog%2Fuse-custom-latex-macros-to-boost-your-writing-productivity.html" class="btn btn-my-icon btn-reddit" title="Share on Reddit"><span class="fab fa-fw fa-reddit" aria-hidden=true></span>
<span class=sr-only>Reddit</span></a>
<a href="https://t.me/share/url?url=https%3A%2F%2Fwww.cesarsotovalero.net%2Fblog%2Fuse-custom-latex-macros-to-boost-your-writing-productivity.html&text=In+this+blog+post%2C+I+describe+how+I+use+LaTeX+macros+to+boost+my+writing+productivity+by+automating+repetitive+tasks+such+as+formatting+and+number+computations.+I+explain+how+to+create+custom+commands+for+common+tasks+like+abbreviations%2C+author+notes%2C+formatting+and+computing+numbers%2C+percentages%2C+and+ratios%2C+as+well+as+embedding+small+bar+charts+within+documents.+This+post+also+demonstrates+how+to+execute+Python+scripts+within+LaTeX+documents%2C+offering+a+powerful+way+to+dynamically+update+content+and+automate+parts+of+the+writing+process.%0A" class="btn btn-my-icon btn-telegram" title="Share on Telegram"><i class="fab fa-telegram"></i>
<span class=sr-only>Telegram</span></a>
<a href="http://news.ycombinator.com/submitlink?u=https%3A%2F%2Fwww.cesarsotovalero.net%2Fblog%2Fuse-custom-latex-macros-to-boost-your-writing-productivity.html&t=Use+Custom+LaTeX+Macros+to+Boost+Your+Writing+Productivity" class="btn btn-my-icon btn-hn" title="Share on Hacker News"><i class="fab fa-hacker-news-square"></i>
<span class=sr-only>Hacker News</span></a></section></div><div id=related-posts><hr><h2>Related Posts</h2><div class="panel-deck row"><div class=col-sm-4><div class=panel><a href=/blog/i-am-switching-to-python-and-actually-liking-it.html><div class=panel-body><div class=text-left><h4 class=title data-toc-skip>I'm Switching to Python and Actually Liking It</h4><div class=date style=margin-bottom:0>Posted on July 15, 2025</div></div><img src=../img/posts/2025/2025-07-15/wall-stones_cover.JPG alt="I'm Switching to Python and Actually Liking It"></div></a></div></div><div class=col-sm-4><div class=panel><a href=/blog/evaluation-metrics-for-real-time-financial-fraud-detection-ml-models.html><div class=panel-body><div class=text-left><h4 class=title data-toc-skip>Evaluation Metrics for Real-Time Financial Fraud Detection ML Models</h4><div class=date style=margin-bottom:0>Posted on May 8, 2025</div></div><img src=../img/posts/2025/2025-05-08/kungstradgarden_cover.jpg alt="Evaluation Metrics for Real-Time Financial Fraud Detection ML Models"></div></a></div></div><div class=col-sm-4><div class=panel><a href=/blog/from-classical-ml-to-dnns-and-gnns-for-real-time-financial-fraud-detection.html><div class=panel-body><div class=text-left><h4 class=title data-toc-skip>From Classical ML to DNNs and GNNs for Real-Time Financial Fraud Detection</h4><div class=date style=margin-bottom:0>Posted on April 3, 2025</div></div><img src=../img/posts/2025/2025-04-03/justitiabrunnen_cover.jpg alt="From Classical ML to DNNs and GNNs for Real-Time Financial Fraud Detection"></div></a></div></div></div></div><div><div id=giscus-container></div><script src=/js/load-giscus.js></script>
<script>window.addEventListener('load',loadGiscus)</script></div></div></div></div><script>window.addEventListener('DOMContentLoaded',()=>{const a=new IntersectionObserver(a=>{a.forEach(a=>{const b=a.target.getAttribute('id');a.intersectionRatio>0?document.querySelector(`#toc li a[href="#${b}"]`).parentElement.classList.add('active'):document.querySelector(`#toc li a[href="#${b}"]`).parentElement.classList.remove('active')})});document.querySelectorAll('h1[id]').forEach(b=>{a.observe(b)}),document.querySelectorAll('h2[id]').forEach(b=>{a.observe(b)})})</script><footer><div class="container beautiful-jekyll-footer"><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div style=text-align:center><div class=flex-container-footer-badges><a href=https://www.linkedin.com/in/cesarsotovalero><img alt="Connect on LinkedIn" src="https://img.shields.io/badge/LinkedIn-Connect-blue?style=social&logo=linkedin"></a>
<a href=https://www.youtube.com/channel/UCR4rI98w6-MqYoCS6jR9LGg><img alt="Subscribe to my YouTube channel" src="https://img.shields.io/youtube/channel/subscribers/UCR4rI98w6-MqYoCS6jR9LGg?logoColor=black&label=Subscribe"></a>
<a href=https://github.com/cesarsotovalero><img alt="Follow me on GitHub" src="https://img.shields.io/github/followers/cesarsotovalero?label=Follow%20me"></a></div></div><div class=flex-container-footer-copyright><p class="copyright text-muted">&copy; César Soto Valero&nbsp;&nbsp;&bull;&nbsp;&nbsp;2018&ndash;2025</p></div></div></div></div></footer><script>typeof jQuery=='undefined'&&document.write('<script src="/js/jquery-1.11.2.min.js"><\/script>')</script><script src=/js/bootstrap.min.js></script>
<script src=/js/main.js></script>
<script src=/js/flowtype.js></script>
<script src=/js/scroll-to-top.js></script>
<script src=/js/lazysizes.min.js></script>
<script src=/js/popup-footnotes.js></script>
<script src=/js/mermaid.min.js></script>
<script>$(document).ready(function(){mermaid.initialize({startOnLoad:!0,theme:"default"}),window.mermaid.init(void 0,document.querySelectorAll('.language-mermaid'))})</script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-107061705-1','auto'),ga('send','pageview')</script><script src=/js/mode-switcher.js></script></body></html>